setwd("C:/Users/PC/Desktop/Economia_y_Religion/Version_1")
dataset = read_dta("Economia_y_Religion\\Climate_Relig.dta")
library(readxl)
library(haven)
library(dplyr)
dataset = read_dta("Climate_Relig.dta")
View(dataset)
max(dataset$ccps)
dataset$ccps = as.numeric(dataset$ccps)
max(dataset$ccps)
max(dataset$ccps, na.rm = T)
dataset = dataset[order(dataset$ccps),]
cor(dataset$ccps, dataset$CLIMI)
cor(dataset$ccps, dataset$CLIMI,use="complete.obs")
colnames(dataset)
library(Hmisc)
install.packages("corrplot")
library(corrplot)
colnames(dataset)
###########################
## Matriz de correlaciÃ³n ##-------------------------------------------------------------------------------------------------------------------------------------------------
###########################
dataset_index = dataset[c("relpers", "beliefgod",
"impgod", "relattend", "imprel")]
dataset.rcorr = rcorr(as.matrix(dataset_index))
dataset.rcorr
dataset.rcorr$r
dataset.rcorr$P
help(rcorr)
corrplot(dataset.rcorr)
dataset.corr = cor(dataset_index)
dataset.corr
dataset.corr = cor(dataset_index)
dataset.corr
View(dataset_index)
dataset.corr = cor(dataset_index, "complete.obs")
dataset.corr = cor(dataset_index,use = "complete.obs")
dataset.corr
corrplot(dataset.rcorr)
corrplot(dataset.corr)
library(ggplot2)
install.packages("ggcorrplot")
library(ggcorrplot)
# Plot con ggcorrplot
ggcorrplot(dataset.corr)
# Plot con ggcorrplot
ggcorrplot(dataset.corr, method = "circle")
# Plot con ggcorrplot
ggcorrplot(dataset.corr, method = "circle",
type = "lower", lab = T)
# Plot con ggcorrplot
ggcorrplot(dataset.corr, method="square",
type = "lower", lab = T)
# Plot con ggcorrplot
ggcorrplot(dataset.corr, method="square",
type = "upper", lab = T)
# Plot con ggcorrplot
ggcorrplot(dataset.corr, method="square",
type = "full", lab = T)
sx = sd(dataset$relig_indx)
sy = sd(dataset$ccps)
sx
sy
sy = sd(dataset$ccps,na.rm = TRUE)
sy
(-0.45)*(sx/sy)
(-0.29)*(sx/sy)
colnames(dataset)
no.imp = dataset %>% filter(`_mi_m` ==  0)
no.imp
imp <- mice(no.imp, method = "norm.nob", m = 1) # Impute data
library(mice)
install.packages("mice")
library(mice)
no.imp = dataset %>% filter(`_mi_m` ==  0)
# Stochastic regression imputation
imp <- mice(no.imp, method = "norm.nob", m = 1) # Impute data
# Stochastic regression imputation
no.imp = no.imp[c("relpers", "beliefgod",
"impgod", "relattend", "imprel")]
imp <- mice(no.imp, method = "norm.nob", m = 5) # Impute data
data_sto <- complete(imp) # Store data
data_sto
lista_datasets = list()
length(lista_datasets) = 5
lista_datasets[[1]] = complete(imp,1)
lista_datasets[[2]] = complete(imp,2)
lista_datasets[[3]] = complete(imp,3)
lista_datasets[[4]] = complete(imp,4)
lista_datasets[[5]] = complete(imp,5)
lista_datasets
